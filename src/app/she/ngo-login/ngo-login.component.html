<app-navbar [currentTab]="'ngo'"></app-navbar>
<div class="container content">
  <div class="row my-5">
    <div class="col-lg-6" *ngIf="isLogin">
      <div class="card m-3">
        <form [formGroup]="ngoLoginForm" (ngSubmit)="requestLogin()">
          <div class="card-header bg-success bg-gradient text-light">
            <h4 class="my-1">NGO Login</h4>
          </div>
          <div class="card-body">
            <div class="form-group">
              <label for="ngo-id">NGO ID</label>
              <input
                type="number"
                autocomplete="username"
                class="form-control"
                formControlName="ngoID"
              />
            </div>
            <div class="form-group">
              <label for="ngo-pwd">Password</label>
              <input
                type="password"
                autocomplete="new-password"
                class="form-control"
                formControlName="ngoPassword"
              />
            </div>
          </div>
          <div class="card-footer bg-success bg-gradient text-center">
            <button
              class="btn btn-outline-light"
              type="submit"
              [disabled]="!ngoLoginForm.valid"
            >
              Login
            </button>
            <hr />
            <button class="btn btn-dark" (click)="toggle(false)">
              New here? Chick here to Register
            </button>
            <div class="m-3 alert alert-danger" *ngIf="isError">
              <i class="bi bi-exclamation-triangle-fill text-danger"></i>
              {{ errorMessage }}
            </div>
          </div>
        </form>
      </div>
    </div>

    <div class="col-lg-6" *ngIf="!isLogin">
      <div class="card m-3">
        <form [formGroup]="ngoRegisterForm" (ngSubmit)="requestRegisterNgo()">
          <div class="card-header bg-dark bg-gradient text-light">
            <h5>NGO Register</h5>
          </div>
          <div class="card-body">
            <div class="form-group">
              <label for="ngo-name">NGO Name</label>
              <input
                type="text"
                class="form-control"
                formControlName="ngoName"
              />
            </div>
            <div class="form-group">
              <label for="ngo-enail">NGO Email</label>
              <input
                type="email"
                class="form-control"
                formControlName="ngoEmail"
              />
            </div>
            <div class="form-group">
              <label for="ngo-pwd1">Password</label>
              <input
                type="password"
                autocomplete="new-password"
                class="form-control"
                formControlName="password"
              />
            </div>
            <div class="form-group">
              <label for="ngo-enail">Confirm Password</label>
              <input
                type="password"
                autocomplete="new-password"
                class="form-control"
                formControlName="confirmPassword"
              />
            </div>
            <div class="form-group">
              <label for="ngo-desc">Descrive your NGO in brief</label>
              <textarea
                class="form-control"
                rows="3"
                formControlName="ngoDescription"
              ></textarea>
            </div>
            <div class="form-group">
              <label for="ngo-enail">Where are you located?</label>
              <input
                type="email"
                class="form-control"
                formControlName="ngoLocation"
              />
            </div>
            <div class="form-group">
              <label for="ngo-enail"
                >Contact <span class="text-warning">(phone)</span></label
              >
              <input
                type="number"
                class="form-control"
                formControlName="ngoContact"
              />
            </div>
          </div>
          <div class="card-footer bg-dark bg-gradient text-center">
            <button
              type="submit"
              class="btn btn-outline-light"
              [disabled]="!ngoRegisterForm.valid"
            >
              Register
            </button>
            <div class="m-3 alert alert-danger" *ngIf="isError">
              {{ errorMessage }}
            </div>
            <div class="m-3 alert alert-success" *ngIf="isSuccess">
              {{ successMsg }}
            </div>
            <hr />
            <button class="btn btn-success" (click)="toggle(true)">
              Login Here
            </button>
          </div>
        </form>
      </div>
    </div>
    <div class="col-lg-6">
      <div class="alert alert-dark bg-gradient text-center my-3">
        <h2>Our Associations</h2>
      </div>
      <div class="card my-3" *ngFor="let n of ngos">
        <div class="card-header bg-dark bg-gradient text-light">
          {{ n.name }}, {{ n.address }}
        </div>
        <div class="card-body">
          <p class="card-text">{{ n.description }}</p>
        </div>
        <div class="card-footer bg-dark bg-gradient">
          <div class="row text-center text-light">
            <div class="col-lg-6">
              <p class="card-text">
                <i class="bi bi-envelope"></i> {{ n.email }}
              </p>
            </div>
            <div class="col-lg-6">
              <p class="card-text">
                <i class="bi bi-telephone"></i> {{ n.contact }}
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
